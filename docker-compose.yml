version: '3.8'

services:
  agentbridge:
    build: .
    ports:
      - "3000:3000"
    volumes:
      - agentbridge-data:/app/apps/web/data
    environment:
      - NODE_ENV=production
      - PORT=3000
      - DATABASE_PATH=/app/apps/web/data/agentbridge.db
      # Supabase auth (optional â€” omit to run without login)
      # - NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
      # - NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
    restart: unless-stopped

volumes:
  agentbridge-data:
